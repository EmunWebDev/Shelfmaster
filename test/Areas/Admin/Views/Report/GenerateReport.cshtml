<div class="modal fade" id="generateReport" tabindex="-1" aria-labelledby="generateReportLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="generateReportLabel">Generate Report</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <form asp-action="GenerateReport" method="get">
                <div class="modal-body">

                    <div class="mb-3">
                        <label class="form-label">Report Type</label>
                        <select id="reportType" name="type" class="form-control" required>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly" selected>Monthly</option>
                        </select>
                    </div>

                    <div id="monthInput" class="mb-3">
                        <label class="form-label">Select Month</label>
                        <select name="month" class="form-control">
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>

                    <div id="dayInput" class="mb-3" style="display:none;">
                        <label class="form-label">Day</label>
                        <input type="number" name="day" class="form-control" min="1" max="31">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Year</label>
                        <input type="number" id="yearInput" name="year" class="form-control" required>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="reset" class="btn bg-color1" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn bg-color3 fw-bold">Generate Report</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("yearInput").value = new Date().getFullYear();

        const typeSelect = document.getElementById("reportType");
        const monthInput = document.getElementById("monthInput");
        const dayInput = document.getElementById("dayInput");

        typeSelect.addEventListener("change", function () {
            if (this.value === "daily") {
                monthInput.style.display = "block";
                dayInput.style.display = "block";
            } else if (this.value === "weekly") {
                monthInput.style.display = "block";
                dayInput.style.display = "block"; // pick start day
            } else {
                monthInput.style.display = "block";
                dayInput.style.display = "none";
            }
        });
    });
</script>
